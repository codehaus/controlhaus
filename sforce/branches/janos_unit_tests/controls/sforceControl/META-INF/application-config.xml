<!-- If your application is deployed, please do not edit this file.
   Any changes made to this file while the application is deployed will
   not have any effect on the configuration and are likely to be lost.
   If your application is undeployed, you may edit this file.
   In general, we recommend that changes to your configuration be
   made through the administration tools. -->

<ApplicationConfiguration>

    <!-- For EventService, Debug and Behavior Tracking listeners are off by default
       Listeners="com.bea.p13n.events.listeners.DebugEventListener"
       Listeners="com.bea.p13n.tracking.listeners.BehaviorTrackingListener" -->

    <EventService Name="EventService"
      Listeners="com.bea.campaign.internal.CampaignEventListener">

        <!-- Note that the AsynchronousEventService MBean is a child of the
          EventService MBean, and must be nested within the EventService MBean tag -->

        <AsynchronousEventService Listeners=""/>

    </EventService>

    <CampaignService
      Name="CampaignService"
      GoalCheckTime="300000"
      EmailBrowseBaseDir="campaigns/emails"
      EmailURIExtensions="jsp,html,htm,txt"
    >
      <!-- CampaignServiceJNDIName supports the ${APPNAME} variable -->
      <CampaignEventListener
        Name="CampaignEventListener"
        CampaignServiceJNDIName="${APPNAME}.BEA_campaign.CampaignService"
      >
      </CampaignEventListener>

      <MailAction
        Name="MailAction"
        DefaultFromAddress=""
        EmailPropertySet=""
        EmailPropertyName=""
        OptInPropertySet=""
        OptInPropertyName=""
      >
      </MailAction>
    </CampaignService>
    <ScenarioService
      Name="ScenarioService"
      RulesRequestAttrNames="wlcs_shoppingCart"
    >
    </ScenarioService>

    <AttributeLoader Name="AttributeLoader"
      RequestLoaders="com.bea.campaign.ShoppingCartAttributeLoader"
    />

    <MailService
      Name="MailService"
      SMTPHost="SMTPHostName"
    >
    </MailService>

    <AdService Name="AdService"
        DisplayFlushSize="10"
        Rendering="com.bea.p13n.ad.AdContentProviderBase"
        EventTracker="com.bea.campaign.AdTracking"
        AdClickThruURI="AdClickThru"
        ShowDocURI="ShowDoc">

        <AdContentProvider Name="text"
            Notes="A content renderer that will return the primary content of a text node."
            Provider="com.bea.p13n.ad.render.TextContentProvider"
            Properties=""/>

        <AdContentProvider Name="image"
            Notes="A content renderer that will cause the image primary content property to display. It will also handle impression and click-thru tracking."
            Provider="com.bea.p13n.ad.render.ImageContentProvider"
            Properties="AdClickThruURI=AdClickThru;ShowDocURI=ShowDoc;AdUseXhtml=false"/>

        <AdContentProvider Name="application/x-shockwave-flash"
            Notes="A content renderer that will display a shockwave primay content property inline."
            Provider="com.bea.p13n.ad.render.ShockwaveContentProvider"
            Properties="ShowDocURI=ShowDoc"/>

    </AdService>

    <CacheManager Name="CacheManager">

        <Cache Name="adBucketServiceCache"
            Notes="This cache is not currently used but is reserved for future use."
            TimeToLive="300000"
            MaxEntries="16"/>

        <Cache Name="adServiceCache"
            Notes="This cache is used by the ad service to cache the results of searches for content rendering."
            TimeToLive="300000"
            MaxEntries="32"/>

        <Cache Name="binaryCache.BEA Repository"
            Notes="This caches binary property values for the BEA Repository."
            TimeToLive="60000"
            MaxEntries="10"/>

        <Cache Name="nodeCache.BEA Repository"
            Notes="This caches Nodes for the BEA Repository."
            TimeToLive="60000"
            MaxEntries="50"/>

        <Cache Name="documentContentCache"
            Notes="This caches the document bytes for the DocumentManager. It is not used by the content repositories."
            TimeToLive="60000"
            MaxEntries="100"/>

        <Cache Name="documentMetadataCache"
            Notes="This caches the results of document searches for the DocumentManager. It is not used by the content repositories."
            TimeToLive="60000"/>

        <Cache Name="documentIdCache"
            Notes="This caches the results of document searches (ids only) for the DocumentManager. It is not used by the content repositories."
            TimeToLive="60000"/>

        <Cache Name="entityIdCache"
            Notes="This caches the numeric ids for entity property locators."
            TimeToLive="600000"
            MaxEntries="500"/>

        <Cache Name="entityPropertyCache"
            Notes="This caches the property values for user profiles."
            TimeToLive="600000"
            MaxEntries="500"/>

        <Cache Name="jndiNameCache"
            Notes="This caches the JNDI names of entity property managers and unified user profile managers."
            TimeToLive="600000"
            MaxEntries="500"/>

        <Cache Name="propertyKeyIdCache"
            Notes="This caches the numeric ids for entity property key locators."
            TimeToLive="600000"
            MaxEntries="500"/>

        <Cache Name="searchCache"
            Notes="This caches the results of content searches for the virtual content repository."
            TimeToLive="60000"
            MaxEntries="20"/>

        <Cache Name="unifiedProfileTypeCache"/>

        <Cache
            Name="ProductItemCache"
            Notes="This caches commerce catalog product items from the catalog data store."
            TimeToLive="21600000"
            MaxEntries="1000"/>

        <Cache
            Name="CategoryCache"
            Notes="This caches commerce catalog catagories from the catalog data store."
            TimeToLive="86400000"
            MaxEntries="1000"/>

        <Cache
            Name="discountCache"
            Notes="This caches computed discount definitions."
            TimeToLive="300000"/>

        <Cache
            Name="globalDiscountCache"
            Notes="This caches computed global discount definitions."
            TimeToLive="300000"
            MaxEntries="10"/>

        <Cache Name="portalControlTreeCache"
            Notes="This caches control trees for a combination of webapp, portal, desktop, locale and optional user name."
            TimeToLive="-1"
            MaxEntries="500"/>

        <Cache Name="portalContentUriCache"
            Notes="This caches portal content uris for a combination of webapp, portal, locale and optional user name."
            TimeToLive="-1"
            MaxEntries="500"/>

        <Cache Name="portletControlTreeCache"
            Notes="This caches portlets."
            TimeToLive="-1"
            MaxEntries="500"/>

        <Cache Name="portletPreferencesCache"
            Notes="This caches portlet preferences."
            TimeToLive="60000"
            MaxEntries="500"/>

        <Cache Name="portalLocalizationResourceCache"
            Notes="This caches LocalizationResources by LocalizationIntersectionIds."
            TimeToLive="-1"
            MaxEntries="500"/>

        <Cache Name="portalLocalizationLocaleCache"
            Notes="This caches LocalizationLocales available in the system."
            TimeToLive="-1"
            MaxEntries="500"/>

        <Cache Name="portalMarkupDefinitionCache"
            Notes="This caches MarkupDefinitions by MarkupDefinitionIds."
            TimeToLive="-1"
            MaxEntries="500"/>

    </CacheManager>

    <BehaviorTracking Name="BehaviorTracking"
        MaxBufferSize="100"
        SweepInterval="10"
        SweepMaxTime="120"
        DataSourceJndiName="p13n.trackingDataSource"
        PersistedEventTypes="AddToCartEvent,BuyEvent,CampaignUserActivityEvent,ClickContentEvent,ClickProductEvent,ClickCampaignEvent,DisplayContentEvent,DisplayProductEvent,DisplayCampaignEvent,PurchaseCartEvent,RemoveFromCartEvent,RuleEvent,SessionBeginEvent,SessionEndEvent,SessionLoginEvent,UserRegistrationEvent"/>

    <ContentManagement Name="ContentManagement">

        <ContentStore Name="BEA Repository"
            ClassName="com.bea.content.spi.internal.RepositoryImpl"
            ReadOnly="false"
            Properties="user=weblogic;password=weblogic"/>

    </ContentManagement>

    <TaxServiceClient
      Name="TaxServiceClient"
      TaxCalculatorJNDIName="BEA_commerce.TaxCalculator"
      TaxCalculatorWSDL="http://localhost:7001/taxws/TaxService?WSDL"
      Currency="USD"
      ShipFromProvince="CO"
      ShipFromCity="Boulder"
      ShipFromPostalCode="80302"
      ShipFromLocationCode="00"
      ShipFromCountryCode="USA"
      OrderOriginProvince="CO"
      OrderOriginCity="Boulder"
      OrderOriginPostalCode="80302"
      OrderOriginLocationCode="00"
      OrderOriginCountryCode="USA"
      CompanyID="Company ID goes here"
      BusinessLocationCode="Business Location code"
      AVSReturnListOnZipFailure="false"
    >
    </TaxServiceClient>

    <PaymentServiceClient
      Name="PaymentServiceClient"
      PaymentWebServiceWSDL="http://localhost:7001/payws/PaymentService?WSDL"
      DeferAuthorization="true"
      PaymentModel="AUTO_MARK_AUTO_SETTLE"
    >
    </PaymentServiceClient>

    <CommercePipelineComponentSupport
      JdbcPoolName="weblogic.jdbc.jts.commercePool"
    />

</ApplicationConfiguration>
